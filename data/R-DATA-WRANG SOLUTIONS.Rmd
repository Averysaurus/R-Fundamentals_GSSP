---
title: "R-DATA-WRANG SOLUTIONS"
author: "Evan Muzzall"
date: "2/22/2017"
output: word_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r, basics5}
setwd("/Users/evanmuzzall/Desktop/r-data-wrang/")
require(dplyr)
require(tidyr)
gapminder <- read.csv("data/gapminder-FiveYearData.csv", stringsAsFactors = TRUE)

## 1 ##
gap_median_lifeExp <- gapminder %>%
    group_by(continent) %>%
    summarize(med_lifeExp = median(lifeExp))

## 2 ## 
gapminder_pop_continent <- gapminder %>%
    group_by(continent, year) %>%
    mutate(continent_pop = sum(pop))

## 3 ##
gap_rel_gdp <- gapminder %>%
    group_by(continent, year) %>%
    mutate(gdpPercap_diff = gdpPercap - mean(gdpPercap)) %>%
    ungroup() %>%
    arrange(desc(gdpPercap_diff))

## 4 ##
gap_wider <- gap_rel_gdp %>% 
  select(country, year, gdpPercap_diff) %>% 
  spread(year, gdpPercap_diff)

# 5
gap_super_long <- gap_wider %>% 
  gather(year, gdpPercap_diff, 2:length(names(gap_wider)))
```